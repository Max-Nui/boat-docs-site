<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Service Agreement | The Boat Docs</title>
  <link rel="stylesheet" href="styles/main.css">
  <link rel="icon" href="/images/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/images/favicon.png" type="image/png">
  <link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon">
</head>
<body>
  <div class="navblock">
    <ul>
      <li><a class="logo" href="index.html"><img src="images/BoatDocsLogo.svg" height="70en"></a></li>
      <li><img id="burger" class="burger" src="images/burgermenu.svg" height="30en"></li>
    </ul>
  </div>
  <nav id = "nav">
      <ul id="navbar">
        <li><img id="burgerClose" class="burgerClose" src="images/burgermenugreen.svg" height="30en"></li>
        <li><a href="index.html">Home</a></li>
        <li><a href="#">Service Agreement</a></li>
        <li><a href="contact-us.html">Contact Us</a></li>
        <li><a href="where-is-your-doctor.html">Where is your Doctor Today?</a></li>
        <li><a href="pay-us.html">Pay Us</a></li>
      </ul>
  </nav>

<section class="hero">
  <h1>Service Agreement</h1>
</section>

<section class="mainbody">
  <div class="serviceagreementform">
    <form name="service-agreement" method="POST" data-netlify="true" data-netlify-honeypot="bot-field">
      <!--Required for Netlify-->
      <input type="hidden" name="form-name" value="service-agreement">

      <!--Honeypot-->
      <p hidden>
        <label>
          Don't fill this out if you are a human lol:
          <input name="bot-field">
        </label>
      </p>

      <!-- Common Fields -->
       <h3>Please fill out the form below to set up an appointment with our doctors!</h3>
       <p>Required fields are marked with an asterisk (*)</p>
      <label>First Name *<input type="text" name="firstname" required></label>
      <label>Last Name *<input type="text" name="lastname" required></label>
      <label>Email Address *<input type="email" name="email" required></label>
      <fieldset>
        <legend>Are you okay with us emailing invoices? *</legend>
        <label><input type="radio" name="email_invoices" value="yes" required>Yes</label>
        <label><input type="radio" name="email_invoices" value="no">No</label>
      </fieldset>
      <label>Phone *<input type="tel" name="phone" required></label>
      <fieldset>
        <legend>Can this number receive text messages? *</legend>
        <label><input type="radio" name="text_message" value="yes" required>Yes</label>
        <label><input type="radio" name="text_message" value="no">No</label>
      </fieldset>

      <!--New or Returning-->
      <fieldset>
        <legend>Are you a new customer? *</legend>
        <label><input type="radio" name="new_customer" value="yes" required>Yes</label>
        <label><input type="radio" name="new_customer" value="no">No</label>
      </fieldset>

      <!--Return Customer Questions-->
      <fieldset id="established-changes" class="conditional">
        <legend>Are there any changes to the following?</legend>
        <label><input type="checkbox" name="billing-changes" value="true">Billing Address</label>
        <label><input type="checkbox" name="boat-changes" value="true">Boat Information</label>
        <label><input type="checkbox" name="card-changes" value="true">Credit card on file</label>
      </fieldset>

      <!-- Billing Address Fields (Hidden by Default) -->
      <div id="billing-address" class="conditional">
        <h3>Billing Address</h3>
        <label>Billing Address *<input type="text" name="billing_address" required></label>
        <label>City *<input type="text" name="city" required></label>
        <label>State *<input type="text" name="state" required></label>
        <label>ZIP Code *<input type="text" name="zip" required></label>
        <fieldset>
          <legend>Is your billing address the same as your lake address? *</legend>
          <label><input type="radio" name="billing-same-lake" value="yes" required>Yes</label>
          <label><input type="radio" name="billing-same-lake" value="no">No</label>
        </fieldset>
        <!--Nested Lake Address condition-->
        <div id="lake-address" class="conditional">
          <h3>Lake Address</h3>
          <label>Lake Address *<input type="text" name="lake_address" required></label>
          <label>City *<input type="text" name="lake_city" required></label>
          <label>State *<input type="text" name="lake_state" required></label>
          <label>ZIP Code *<input type="text" name="lake_zip" required></label>
        </div>
      </div>

      <!--Boat information-->
      <div id="boat-info" class="conditional">
        <h3>Boat Information</h3>
        <label>Boat Name/Description *<input type="text" name="boat-name" required></label>
        <label>Boat Year/Make/Model *<input type="text" name="boat-model" required></label>
        <label>Condo, Dock, and Slip Number *<input type="text" name="boat-loc" required></label>
        <label>Location of Boat Key, Lift Key, or Combination Locks *<textarea name="boat-key-loc" rows="6" required></textarea></label>
        <label>Directions to your boat by land *<textarea name="boat-directions" rows="6" required></textarea></label>
      </div>

      <div id="credit-info" class="conditional">
        <h3>Credit Card Information</h3>
        <label>Phone Number to call to change credit card information *<input type="tel" name="credit-change-tel" required></label>
        <p>For your privacy, we will call you to change the card information.</p>
      </div>

      <!-- Common Fields -->
      <label>What would you like our doctors to repair? *<textarea name="repairsneeded" rows="6" required></textarea></label>
      
      <!-- Seasonal Question -->
      <div id="winterize-question" class="conditional">
        <h3>Winterization</h3>
        <fieldset>
          <legend>Does your boat need to be winterized? *</legend>
          <label><input type="radio" name="ready_to_winterize" value="yes" required>Yes</label>
          <label><input type="radio" name="ready_to_winterize" value="no">No</label>
        </fieldset>
      </div>

      <!--Winterization Information-->
      <div id="winterize-info" class="conditional">
        <h3>Winterize Information</h3>
        <label>Winterize my boat after this date: *<input type="date" name="winterize-after" required></label>
        <fieldset>
          <legend id="battery">Would you like us to leave your battery on? (recommended) *</legend>
          <label><input type="radio" name="battery-on" required>Yes</label>
          <label><input type="radio" name="battery-on">No</label>
        </fieldset>
        <fieldset id="checkbox">
        <legend>Additional Systems to Winterize:</legend>
          <label><input type="checkbox" name="additional-winterize" value="water system" required>Water System</label>
          <label><input type="checkbox" name="additional-winterize" value="head system">Head System</label>
          <label><input type="checkbox" name="additional-winterize" value="air conditioner">Air Conditioner</label>
          <label><input type="checkbox" name="additional-winterize" value="generator">Generator</label>
        </fieldset>
      </div>

      <!--Legal-->
      <h3>Terms</h3>
      <label>Electronic Signature *<input type="text" name="signature" required></label>
      <p>By signing this agreement, I hereby authorize the above work to be done along with the necessary materials and hereby grant you and/or you employees permission to operate the vessel herein described on the waterways or elsewhere for the purpose of testing and/or inspection. I also accept financial responsibility and am willing to pay all The Boat Docs, Inc. invoices in accordance with the terms described therein. I agree to pay in full when the work is completed. I also understand that this is the policy of The Boat Docs, Inc. to charge my credit card if I am unavailable to pay by cash or check and payment is not made within 10 days. An express mechanic's lien is acknowledged on the above vessel to secure the amount of the repairs thereto. I understand that a service charge of one and a half percent per month (prorated from the due date) will be added to any delinquent accounts. Storage will begin on any trailer or boat not picked up within 10 days after notification of completion of service. If it is necessary that collection be made by suit or otherwise. I agree to pay interest until paid, along with collection costs, including a reasonable attorney fee. The Boat Docs, Inc. is NOT responsible for loss or damage to boats, motor vehicles, trailers or articles left therein in case of fire, theft, accident, freezing or any other causes beyond our control when in our custody for repair or storage. The Boat Docs, Inc. is NOT responsible for data sent by unsecured email. Please be advised and we only recommend protecting secure data such as your credit card number. For your protection, repair work will NOT begin until this signed agreement is received in our office. Our website includes a printable pdf of this contract for patients that prefer to mail this agreement. Our address is The Boat Docs PO Box 3652 Camdenton MO 65020-3652</p>
      <fieldset>
        <label>I understand that checking this box constitutes a legal signature confirming that I acknowledge and agree to the above Terms of Acceptance. *<input type="checkbox" name="agreement" required></label>
      </fieldset>
      <button type="submit">Submit</button>
    </form>
  </div>
  <hr>
  <section class="footer">
      <ul class="footerList">
        <li><p>© 2025 The Boat Docs</p></li>
        <li><p>PO Box 3652 Camdenton, MO 65020</p></li>
        <li><p>1-573-480-1992</p></li>
        <li><a href="mailto:kevin@theboatdocs.com">kevin@theboatdocs.com</a></li>
        <li><img src="images/facebook.png"></li>
        <li><img src="images/instagram.png"></li>
      </ul>
  </section>
</section>


<script>
document.addEventListener('DOMContentLoaded', () => {
  // All code lives inside here
  // --- Navigation Menu ---
  const mobileBtn = document.getElementById('burger');
  const mobileBtnExit = document.getElementById('burgerClose');
  const nav = document.getElementById('nav');

  // Open menu
  mobileBtn.addEventListener('click', (e) => {
    nav.classList.add('menu-btn');
    e.stopPropagation();
  });

  // Close menu
  mobileBtnExit.addEventListener('click', (e) => {
    nav.classList.remove('menu-btn');
    e.stopPropagation();
  });

  // Close menu when clicking outside
  document.addEventListener('click', (e) => {
    if (!nav.contains(e.target) && !mobileBtn.contains(e.target)) {
      nav.classList.remove('menu-btn');
    }
  });

  // Prevent menu clicks from closing it
  nav.addEventListener('click', (e) => e.stopPropagation());

  // --- Service Icon Logic ---
  const icons = document.querySelectorAll('.service-icon');
  const texts = document.querySelectorAll('.service-text');

  const showElement = (el) => {
    if (!el) return;
    el.style.display = 'block';
    el.querySelectorAll('input, textarea, select').forEach(input => input.required = true);
  };

  const hideElement = (el) => {
    if (!el) return;
    el.style.display = 'none';
    el.querySelectorAll('input, textarea, select').forEach(input => {
      input.required = false;
      if (input.type === 'radio' || input.type === 'checkbox') input.checked = false;
      else input.value = '';
    });
  };

  icons.forEach(icon => {
    icon.addEventListener('click', () => {
      // Reset icons
      icons.forEach(i => i.src = i.dataset.default);
      icon.src = icon.dataset.selected;

      // Reset texts
      texts.forEach(t => t.classList.remove('active'));

      // Show relevant text
      const contentId = icon.dataset.content;
      if (contentId) {
        const targetText = document.getElementById(contentId);
        if (targetText) targetText.classList.add('active');
      }
    });
  });

  // --- Form Conditional Logic ---
  const form = document.querySelector('form[name="service-agreement"]');
  const billingAddressBlock = document.getElementById('billing-address');
  const lakeAddress = document.getElementById('lake-address');
  const establishedChanges = document.getElementById('established-changes');
  const winterizeBlock = document.getElementById('winterize-question');
  const winterizeInputs = winterizeBlock ? winterizeBlock.querySelectorAll('input') : [];
  const currentMonth = new Date().getMonth();
  const isWinterizeSeason = currentMonth >= 8 && currentMonth <= 11; // Sept–Dec
  const boatInfoBlock = document.getElementById('boat-info');
  const creditBlock = document.getElementById('credit-info');
  const winterizeInfoBlock = document.getElementById('winterize-info');

  // Initial seasonal check
  if (isWinterizeSeason) showElement(winterizeBlock);
  else hideElement(winterizeBlock);

  // Event delegation for radio changes
  form.addEventListener('change', (e) => {
    const target = e.target;

    // --- New customer logic ---
    if (target.name === 'new_customer') {
      if (target.value === 'yes') {
        showElement(billingAddressBlock);
        hideElement(establishedChanges);
        showElement(boatInfoBlock);
      }
      else {
        hideElement(billingAddressBlock);
        showElement(establishedChanges);
        hideElement(boatInfoBlock);
        hideElement(lakeAddress); // nested reset
      }
    }
    // --- Nested Lake Address logic ---
    else if (target.name === 'billing-same-lake') {
      if (target.value === 'no') showElement(lakeAddress);
      else hideElement(lakeAddress);
    }

    //Established Customer Changes logic (billing)
    else if (target.name === 'billing-changes') {
      if (target.checked) showElement(billingAddressBlock);
      else hideElement(billingAddressBlock);
    }

    //Established Customer Changes logic (boat info)
    else if (target.name === 'boat-changes') {
      if (target.checked) showElement(boatInfoBlock);
      else hideElement(boatInfoBlock);
    }

    //Established Customer Changes logic (credit card)
    else if (target.name === 'card-changes') {
      if(target.checked) showElement(creditBlock);
      else hideElement(creditBlock);
    }

    //Winterization Info logic
    else if (target.name === 'ready_to_winterize') {
      if(target.value === 'yes') showElement(winterizeInfoBlock);
      else hideElement(winterizeInfoBlock);
    }

    });//addEventListener change e
  });//DCOM content loaded
</script>
</body>
</html>